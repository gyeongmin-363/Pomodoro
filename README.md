# âœˆï¸ í”½ë½€ - ë¹„í–‰ê¸°ì™€ í•¨ê»˜í•˜ëŠ” í”½ì…€ ë½€ëª¨ë„ë¡œ ì•±

## ğŸ¯ í•œ ë¬¸ì¥ ìš”ì•½
**â€œì •ì  ì„¸ê³„ì§€ë„ ê¸°ë°˜, ì „ ì„¸ê³„ ì‚¬ìš©ì ì¡´ì¬ê°ì„ ì /ë¹„í–‰ê¸°ì™€ ì ì„ ìœ¼ë¡œ ì‹œê°í™”í•˜ê³ , ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ ì „ì²´ ì§€ë„ â†” ë‚´ ìœ„ì¹˜ ë³´ê¸° ì‹œì ì„ ì „í™˜í•˜ë©°, ë‚´ ìœ„ì¹˜ ë³´ê¸°ì—ì„œëŠ” í•­ìƒ ë‚´ ë¹„í–‰ê¸° ìœ„ì¹˜ë¥¼ ë”°ë¼ê°€ëŠ” í•­ê³µì‚¬ í…Œë§ˆ ë½€ëª¨ë„ë¡œ ì•±â€**

---

## 1ï¸âƒ£ í•µì‹¬ ì»¨ì…‰
- **ëª©í‘œ:** ì „ ì„¸ê³„ ì‚¬ìš©ìì™€ í•¨ê»˜ ì§‘ì¤‘í•˜ê³  ìˆë‹¤ëŠ” ëŠë‚Œ ì œê³µ
- **í…Œë§ˆ:** í•­ê³µì‚¬
- **ê²½í—˜:**
    - **ì§‘ì¤‘ ì„¸ì…˜ = ë¹„í–‰:** ì¶œë°œ â†’ ë¹„í–‰ â†’ ì°©ë¥™/íœ´ì‹
    - **ì‹œê°í™”:** ì§€ë„ ìœ„ ë¹„í–‰ê¸°/ì ìœ¼ë¡œ ì‚¬ìš©ì ì¡´ì¬ê° í‘œì‹œ

---

## 2ï¸âƒ£ ì§€ë„ ë° ì‹œê°í™”
- **ë°°ê²½ ì§€ë„:** ì •ì  ì„¸ê³„ì§€ë„ ì´ë¯¸ì§€ (Equirectangular projection, PNG/SVG)
- **ì¢Œí‘œê³„:** ì›”ë“œ ì¢Œí‘œê³„ ê¸°ë°˜, ì´ë¯¸ì§€ í”½ì…€ ë¹„ìœ¨ë¡œ ì /ë¹„í–‰ê¸° ìœ„ì¹˜ ì„¤ì •
- **í‘œì‹œ ìš”ì†Œ:**
    - **ì :** ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ìœ„ì¹˜
    - **ì ì„ :** ë¹„í–‰ ê²½ë¡œ ë˜ëŠ” ì§‘ì¤‘ ì„¸ì…˜ ì—°ê²°
    - **ë¹„í–‰ê¸° ì•„ì´ì½˜:** ì§„í–‰ ì¤‘ì¸ ë‚´ ìœ„ì¹˜ í‘œì‹œ

---

## 3ï¸âƒ£ ì‹œì  ì „í™˜ (ë²„íŠ¼ ê¸°ë°˜)
- **ë‘ ê°€ì§€ ì‹œì :**
    - **ì „ì²´ ì§€ë„ ë³´ê¸°:** ì„¸ê³„ì§€ë„ ì „ì²´ í‘œì‹œ, ëª¨ë“  ì‚¬ìš©ì ì /ë¹„í–‰ê¸° í‘œì‹œ
    - **ë‚´ ìœ„ì¹˜ ë³´ê¸°:** í•­ìƒ ë‚´ ë¹„í–‰ê¸° ìœ„ì¹˜ë¥¼ í™”ë©´ ì¤‘ì•™ìœ¼ë¡œ ë”°ë¼ê° (ì¤Œ ë ˆë²¨ ê³ ì •)
- **ì „í™˜ ë°©ì‹:** í™”ë©´ ë²„íŠ¼ í´ë¦­ (ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ ì ìš©: `animateFloatAsState` / `animateOffsetAsState`)
- **ğŸš« ë¯¸ì‚¬ìš©:** ë“œë˜ê·¸/í•€ì¹˜ ì¤Œ

---

## 4ï¸âƒ£ ì‚¬ìš©ì ì—°ê²° ë°©ì‹ (ê°„ì ‘ì )
- **ì§ì ‘ì  ì†Œì…œ ì—°ê²° ì—†ìŒ (ì±„íŒ…, ì¹œêµ¬ ì¶”ê°€ X)**
- **ê°„ì ‘ì  ì—°ê²°:**
    - ì§€ë„ ìƒì˜ ë‹¤ë¥¸ ì‚¬ìš©ì ì /ë¹„í–‰ê¸°ë¡œ ì¡´ì¬ê° ì „ë‹¬
    - ì ì„ , ë¹„í–‰ê¸° ì´ë™ ë“±ìœ¼ë¡œ â€œê°™ì´ ì§‘ì¤‘í•˜ê³  ìˆë‹¤â€ëŠ” ëŠë‚Œ ìœ ì§€

---

## 5ï¸âƒ£ ì• ë‹ˆë©”ì´ì…˜ ë° UX
- **ë¹„í–‰ ê²½ë¡œ ì• ë‹ˆë©”ì´ì…˜:** ì¶œë°œì  â†’ ë„ì°©ì  ì‚¬ì´ ì ì„  ë”°ë¼ ë¹„í–‰ê¸° ì•„ì´ì½˜ ì´ë™ (ì—¬ëŸ¬ ì‚¬ìš©ì ë™ì‹œ í‘œì‹œ)
- **ë‚´ ìœ„ì¹˜ ë³´ê¸°:** ë‚´ ë¹„í–‰ê¸° ìœ„ì¹˜ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì§€ë„ ë° ë‹¤ë¥¸ ìš”ì†Œë“¤ í•¨ê»˜ ì´ë™ (ì¤Œ ê³ ì •)
- **ì „ì²´ ì§€ë„ ë³´ê¸°:** ì„¸ê³„ ì§€ë„ ì „ì²´ ë¹„ìœ¨ ìœ ì§€, í™•ëŒ€/ì¶•ì†Œ ì—†ìŒ

---

## 6ï¸âƒ£ ê¸°ìˆ ì  ì ‘ê·¼
- **UI:** Jetpack Compose Canvas ê¸°ë°˜
- **ë Œë”ë§:** ì§€ë„ ì´ë¯¸ì§€ ìœ„ì— ì , ì ì„ , ë¹„í–‰ê¸° ì•„ì´ì½˜ ë Œë”ë§
- **ë³€í™˜:** `graphicsLayer` ë˜ëŠ” `drawWithContent` ì‚¬ìš©
- **ì¢Œí‘œ ë³€í™˜:** ì›”ë“œ ì¢Œí‘œ â†’ í™”ë©´ ì¢Œí‘œ (Offset/Scale ë³€ê²½ìœ¼ë¡œ ì‹œì  ì „í™˜ êµ¬í˜„)
- **ìœ¡ì§€ ì¢Œí‘œ ì²˜ë¦¬:** ë¯¸ë¦¬ ì •ì˜ëœ ë„ì‹œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ëœë¤ ì„ íƒ (ë°”ë‹¤ ìœ„ ìœ„ì¹˜ ë°©ì§€)

---

## 7ï¸âƒ£ UX í•µì‹¬ í¬ì¸íŠ¸
- **ì‹œê°í™”:** ì „ ì„¸ê³„ ì‚¬ìš©ìì˜ ë™ì‹œ ì§‘ì¤‘ ìƒíƒœ ì‹œê°í™”
- **ì€ìœ :** ì§‘ì¤‘ ì‹œê°„ = ë¹„í–‰ ê±°ë¦¬, ì§„í–‰ ìƒíƒœ = ë¹„í–‰ê¸° ìœ„ì¹˜
- **ë‹¨ìˆœ ì¡°ì‘:** ë²„íŠ¼ ê¸°ë°˜ ì‹œì  ì „í™˜ìœ¼ë¡œ ëª…í™•í•œ ì‚¬ìš©ì ì˜ë„ ë°˜ì˜
- **ëª°ì…ê°:** 'ë‚´ ìœ„ì¹˜ ë³´ê¸°' ì‹œ ìë™ ì¹´ë©”ë¼ ì¶”ì ìœ¼ë¡œ ëª°ì…ê° ê°•í™”
- **ë¶€ë‹´ ì—†ëŠ” ì—°ê²°:** ê²½ìŸ ì••ë°• ì—†ì´ ê°„ì ‘ì ìœ¼ë¡œ ì¡´ì¬ê° ì „ë‹¬

---
---

## ğŸ› ï¸ ê°œë°œ ë¡œë“œë§µ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœˆï¸ Phase 1: ì†”ë¡œ ë¹„í–‰ (í•µì‹¬ ê¸°ëŠ¥ - í˜¼ì ë½€ëª¨ë„ë¡œ)
> **ëª©í‘œ:** ì‚¬ìš©ì í˜¼ì ë½€ëª¨ë„ë¡œë¥¼ ì‹¤í–‰í•  ë•Œ, ì§€ë„ ìœ„ì—ì„œ ìì‹ ì˜ ë¹„í–‰ê¸°ê°€ ì¶œë°œì§€ë¶€í„° ë„ì°©ì§€ê¹Œì§€ ë¹„í–‰í•˜ëŠ” ì „ì²´ ê³¼ì •ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

#### 1. ğŸ¨ ë¦¬ì†ŒìŠ¤ ë° ì¢Œí‘œê³„ ì¤€ë¹„
- [ ] **ì •ì  ì„¸ê³„ì§€ë„ ì´ë¯¸ì§€:** `res/drawable`ì— `world_map.png` (Equirectangular) ì¶”ê°€
- [ ] **ë¹„í–‰ê¸° ì•„ì´ì½˜:** `res/drawable`ì— `ic_airplane.xml` (ë˜ëŠ” .png) ì¶”ê°€
- [ ] **ë„ì‹œ ì¢Œí‘œ ë¦¬ìŠ¤íŠ¸:** `com/malrang/pomodoro/dataclass/`ì— `CityCoordinates.kt` íŒŒì¼ ìƒì„±
    - `data class City(val name: String, val latitude: Double, val longitude: Double)` ì •ì˜
    - `object CityList { val cities = listOf(...) }`ì— ì£¼ìš” ë„ì‹œ(ìœ¡ì§€) ì¢Œí‘œ í•˜ë“œì½”ë”©
- [ ] **ì¢Œí‘œ ë³€í™˜ ìœ í‹¸ë¦¬í‹°:** `com/malrang/pomodoro/ui/utils/CoordinateUtils.kt` ìƒì„±
    - `fun latLngToOffset(latitude, longitude, mapWidth, mapHeight): Offset` í•¨ìˆ˜ êµ¬í˜„ (ìœ„ë„/ê²½ë„ â†’ Canvasì˜ X, Y í”½ì…€ ì¢Œí‘œ)
    - `fun lerp(start: Offset, stop: Offset, fraction: Float): Offset` ì„ í˜• ë³´ê°„ í•¨ìˆ˜ êµ¬í˜„ (ë¹„í–‰ê¸° ìœ„ì¹˜ ê³„ì‚°ìš©)

#### 2. âœˆï¸ ë¹„í–‰ ìƒíƒœ ê´€ë¦¬ (ViewModel ë° UiState)
- [ ] **`TimerUiState.kt` ìˆ˜ì •:**
    - `val departureCity: City? = null` (ì¶œë°œ ê³µí•­)
    - `val arrivalCity: City? = null` (ë„ì°© ê³µí•­)
    - `val flightProgress: Float = 0.0f` (ë¹„í–‰ ì§„í–‰ë¥ , 0.0 ~ 1.0)
- [ ] **`TimerViewModel` (ë˜ëŠ” `TimerService.kt`) ë¡œì§ ìˆ˜ì •:**
    - **(ì§‘ì¤‘) ì„¸ì…˜ ì‹œì‘ ì‹œ:**
        - `CityList`ì—ì„œ `departureCity`ì™€ `arrivalCity` ëœë¤ ì„ íƒ
        - `_uiState.update`ë¡œ `departureCity`, `arrivalCity` ì„¤ì • ë° `flightProgress`ë¥¼ `0.0f`ë¡œ ë¦¬ì…‹
    - **íƒ€ì´ë¨¸ ì§„í–‰ ì¤‘ (OnTick):**
        - `flightProgress` ê³„ì‚°: `1.0f - (ë‚¨ì€ ì‹œê°„ / ì´ ì§‘ì¤‘ ì‹œê°„)`
        - `_uiState.update`ë¡œ `flightProgress` ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
    - **ì„¸ì…˜ ì™„ë£Œ/ìŠ¤í‚µ ì‹œ:**
        - `_uiState.update`ë¡œ `flightProgress`ë¥¼ `1.0f` (ë„ì°©)ë¡œ ê°•ì œ ì„¤ì •

#### 3. ğŸ–Œï¸ ë©”ì¸ í™”ë©´ UI ìˆ˜ì • (Canvas ë Œë”ë§)
- [ ] **`PortraitMainScreen.kt` / `MainScreen.kt` ìˆ˜ì •:**
    - ê¸°ì¡´ì˜ í° íƒ€ì´ë¨¸ í…ìŠ¤íŠ¸, `CycleIndicator` ì»´í¬ì €ë¸” ì œê±° ë˜ëŠ” ì£¼ì„ ì²˜ë¦¬
- [ ] **`Box` ë° `Canvas` ë°°ì¹˜:**
    - `Box(modifier = Modifier.fillMaxSize())`ë¥¼ ìµœìƒìœ„ì— ë°°ì¹˜
    - `Canvas(modifier = Modifier.fillMaxSize())`ë¥¼ `Box`ì˜ ë§¨ ì•„ë˜ì— ë°°ì¹˜
- [ ] **`Canvas` ë Œë”ë§ (onDraw):**
    - `drawImage(worldMapImage)`ë¡œ ë°°ê²½ ì§€ë„ ê·¸ë¦¬ê¸° (ì§€ë„ ì›ë³¸ í¬ê¸° `mapWidth`, `mapHeight` ê¸°ì–µ)
    - `departureCity`, `arrivalCity`ì˜ í”½ì…€ ì¢Œí‘œ(Offset) ê³„ì‚° (`latLngToOffset` ì‚¬ìš©)
    - `PathEffect.dashPathEffect`ë¥¼ ì‚¬ìš©í•´ ì¶œë°œ-ë„ì°© ê°„ ì ì„ (í•­ë¡œ) ê·¸ë¦¬ê¸°
    - `flightProgress`ë¥¼ ì´ìš©í•´ í˜„ì¬ ë¹„í–‰ê¸° ì¢Œí‘œ ê³„ì‚° (`lerp` ì‚¬ìš©)
    - `drawImage(airplaneIcon, topLeft = currentPlaneOffset)`ë¡œ ë¹„í–‰ê¸° ê·¸ë¦¬ê¸°

#### 4.  overlay UI ë° ì»¨íŠ¸ë¡¤ëŸ¬ ì¬ë°°ì¹˜
- [ ] **`Box` ë‚´ UI ì¬ë°°ì¹˜:**
    - `Canvas` **ìœ„**ì— íƒ€ì´ë¨¸ ì •ë³´ì™€ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ì´ ì˜¤ë„ë¡ ë°°ì¹˜
- [ ] **íƒ€ì´ë¨¸ ì •ë³´ ì˜¤ë²„ë ˆì´:**
    - `timerUiState.timeLeft`ì„ í‘œì‹œí•˜ëŠ” `Text`ë¥¼ í™”ë©´ ìƒë‹¨/í•˜ë‹¨ì— ì‘ì€ í¬ê¸°ë¡œ ë‹¤ì‹œ ì¶”ê°€
    - (ë””ìì¸) ì¶œë°œì§€(ICN) -> ë„ì°©ì§€(JFK) í˜•íƒœì˜ í…ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ ì¶”ê°€
- [ ] **ì»¨íŠ¸ë¡¤ ë²„íŠ¼ (`start`, `pause`, `skip` ë“±):**
    - í™”ë©´ í•˜ë‹¨ì— `Row` ë˜ëŠ” `Column`ìœ¼ë¡œ ì¬ë°°ì¹˜

#### 5. ğŸ¥ ì‹œì  ì „í™˜ ë° ì¹´ë©”ë¼ êµ¬í˜„ (í•µì‹¬)
- [ ] **ì‹œì  ìƒíƒœ ê´€ë¦¬:**
    - `MainViewModel` (ë˜ëŠ” `TimerViewModel`)ì— `val mapViewMode: StateFlow<MapViewMode>` ì¶”ê°€
    - `enum class MapViewMode { FULL, MY_LOCATION }` ì •ì˜
- [ ] **ì‹œì  ì „í™˜ ë²„íŠ¼ UI:**
    - `Box` ë‚´ë¶€ì— `IconToggleButton` (ì§€ë„/ë¹„í–‰ê¸° ì•„ì´ì½˜) ì¶”ê°€, `onClick` ì‹œ `viewModel.toggleMapViewMode()` í˜¸ì¶œ
- [ ] **`Canvas`ì— `graphicsLayer` ì ìš©:**
    - `Canvas(modifier = Modifier.fillMaxSize().graphicsLayer { ... })`
- [ ] **ì• ë‹ˆë©”ì´ì…˜ ìƒíƒœ ì •ì˜ (ì»´í¬ì €ë¸” ë‚´):**
    - `val scale = animateFloatAsState(targetValue = if (mapViewMode == MapViewMode.FULL) 1.0f else 3.0f)` (ê°’ì€ ì˜ˆì‹œ)
    - `val animatedOffset = animateOffsetAsState(targetValue = ...)`
- [ ] **`targetOffset` ê³„ì‚° ë¡œì§ (ì¤‘ìš”):**
    - `[FULL ëª¨ë“œ ì‹œ]`: `Offset.Zero` (ë˜ëŠ” ì§€ë„ë¥¼ ì¤‘ì•™ì— ë§ì¶”ëŠ” ê³ ì •ê°’)
    - `[MY_LOCATION ëª¨ë“œ ì‹œ]`: **(ë¹„í–‰ê¸°ê°€ í™”ë©´ ì¤‘ì•™ì— ì˜¤ë„ë¡)**
        - `targetOffset = (screenCenter - currentPlaneOffset) * scale.value`
        - `currentPlaneOffset`ì€ `onDraw`ì—ì„œ ê³„ì‚°ëœ í”½ì…€ ì¢Œí‘œì—¬ì•¼ í•¨.
- [ ] **`graphicsLayer` ë¡œì§ êµ¬í˜„:**
    - `scaleX = scale.value`, `scaleY = scale.value`
    - `translationX = animatedOffset.value.x`
    - `translationY = animatedOffset.value.y`
- [ ] **ìë™ ì¶”ì  í™•ì¸:**
    - `MY_LOCATION` ëª¨ë“œì—ì„œ ë¹„í–‰ê¸°ê°€ ì›€ì§ì¼ ë•Œ(`flightProgress` ë³€ê²½), í™”ë©´(Canvas)ì´ ë¶€ë“œëŸ½ê²Œ ë”°ë¼ ì›€ì§ì´ëŠ”ì§€ í™•ì¸

#### 6. ğŸ”’ ì…ë ¥ ì œí•œ ë° í´ë¦¬ì‹±
- [ ] **ë“œë˜ê·¸/í•€ì¹˜ ì¤Œ ë¹„í™œì„±í™”:** `Canvas`ì˜ `pointerInput`ì—ì„œ `detectTransformGestures` (í•€ì¹˜ ì¤Œ), `detectDragGestures` (ë“œë˜ê·¸)ë¥¼ **í˜¸ì¶œí•˜ì§€ ì•ŠìŒ**
- [ ] **í™”ë©´ ë°©í–¥ ëŒ€ì‘:** `LandscapeMainScreen.kt`ì—ë„ ë™ì¼í•œ `Canvas` ë° `graphicsLayer` ë¡œì§ ì ìš©

---

### ğŸŒ Phase 2: í•¨ê»˜ ë¹„í–‰ (Supabase ì‹¤ì‹œê°„ ê³µìœ )
> **ëª©í‘œ:** (ë¡œê·¸ì¸ ëœ) ì‚¬ìš©ìë“¤ì´ ìì‹ ì˜ ë¹„í–‰ ìƒíƒœë¥¼ Supabaseë¥¼ í†µí•´ ì‹¤ì‹œê°„ ê³µìœ í•˜ê³ , ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì˜ ìœ„ì¹˜ë¥¼ ì§€ë„ ìœ„ì— 'ì 'ìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.

#### 1. â˜ï¸ Supabase ì„¤ì • ë° ì—°ë™
- [ ] **Supabase í”„ë¡œì íŠ¸ ìƒì„±:**
    - `pomodoro_flights` (ì˜ˆì‹œ) í…Œì´ë¸” ìƒì„±
    - RLS(Row Level Security) ì„¤ì • (ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì½ê¸°/ì“°ê¸° ê°€ëŠ¥í•˜ë„ë¡)
- [ ] **`android-app`ì— Supabase í´ë¼ì´ì–¸íŠ¸ ì˜ì¡´ì„± ì¶”ê°€** (build.gradle.kts)
- [ ] **`SupabaseProvider.kt` í™•ì¸:** ê¸°ì¡´ Supabase í´ë¼ì´ì–¸íŠ¸ê°€ `AuthViewModel` ì™¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸ (í•„ìš”ì‹œ Hilt/DI ì„¤ì •)
- [ ] **í…Œì´ë¸” ì •ì˜:** `pomodoro_flights`
    - `user_id` (uuid, primary key, foreign key to auth.users)
    - `nickname` (text)
    - `departure_city` (text)
    - `arrival_city` (text)
    - `flight_progress` (float4, 0.0 ~ 1.0)
    - `updated_at` (timestampz)

#### 2. ğŸ“¡ ë°ì´í„° ëª¨ë¸ ë° ViewModel
- [ ] **ë°ì´í„° ëª¨ë¸:** `networkRepo/Models.kt`ì— `FlightStatus.kt` (í…Œì´ë¸”ê³¼ ë§¤ì¹­) data class ì •ì˜ (`@Serializable` ì–´ë…¸í…Œì´ì…˜ í¬í•¨)
- [ ] **`SharedFlightsViewModel` (ê°€ì¹­) ì‹ ê·œ ìƒì„±:**
    - `SupabaseRepository` ì˜ì¡´ì„± ì£¼ì…
    - `val otherUsersFlights: StateFlow<List<FlightStatus>>` ìƒíƒœ ì •ì˜
- [ ] **`SupabaseRepository.kt` ìˆ˜ì •:**
    - `fun upsertMyFlightStatus(status: FlightStatus)` í•¨ìˆ˜ ì¶”ê°€ (ë‚´ ìƒíƒœ `upsert`)
    - `fun getFlightStatusChanges(): Flow<List<FlightStatus>>` í•¨ìˆ˜ ì¶”ê°€ (ì‹¤ì‹œê°„ êµ¬ë…)
        - `supabase.realtime.channel(...).postgresChangeFlow(...)` ì‚¬ìš©

#### 3. ğŸ“¤ ë‚´ ìƒíƒœ ì†¡ì‹  (Upsert)
- [ ] **`TimerViewModel` ìˆ˜ì •:**
    - `SupabaseRepository` ì˜ì¡´ì„± ì£¼ì…
    - **(ì§‘ì¤‘) ì„¸ì…˜ ì‹œì‘ ì‹œ:** `repository.upsertMyFlightStatus(...)` í˜¸ì¶œ (ì¶œë°œì§€, ë„ì°©ì§€, progress 0.0)
    - **íƒ€ì´ë¨¸ ì§„í–‰ ì¤‘ (OnTick):** (ì„±ëŠ¥ ê³ ë ¤) 5~10ì´ˆì— í•œ ë²ˆì”© `repository.upsertMyFlightStatus(...)` í˜¸ì¶œ (í˜„ì¬ `flightProgress` ì—…ë°ì´íŠ¸)
    - **ì„¸ì…˜ ì™„ë£Œ/ì¤‘ì§€ ì‹œ:** `repository.upsertMyFlightStatus(...)` í˜¸ì¶œ (progress 1.0 ë˜ëŠ” ìƒíƒœ ì‚­ì œ)

#### 4. ğŸ“¥ ë‹¤ë¥¸ ì‚¬ìš©ì ìƒíƒœ ìˆ˜ì‹  (Subscribe)
- [ ] **`SharedFlightsViewModel` êµ¬í˜„:**
    - `init { ... }` ë¸”ë¡ì—ì„œ `repository.getFlightStatusChanges()`ë¥¼ êµ¬ë…
    - (ì¤‘ìš”) `myUserId`ì™€ ë¹„êµí•˜ì—¬ **'ë‚˜'ë¥¼ ì œì™¸í•œ** ë‹¤ë¥¸ ì‚¬ìš©ì ëª©ë¡ë§Œ `_otherUsersFlights`ì— ì—…ë°ì´íŠ¸

#### 5. ğŸŒ ë‹¤ë¥¸ ì‚¬ìš©ì ë Œë”ë§ (Canvas ìˆ˜ì •)
- [ ] **`MainScreen.kt` ìˆ˜ì •:**
    - `SharedFlightsViewModel`ì—ì„œ `otherUsersFlights` ìƒíƒœë¥¼ ìˆ˜ì§‘(collect)
- [ ] **`Canvas` ë Œë”ë§ (onDraw) ìˆ˜ì •:**
    - `otherUsersFlights` ë¦¬ìŠ¤íŠ¸ë¥¼ `onDraw` ìŠ¤ì½”í”„ë¡œ ì „ë‹¬
    - `otherUsersFlights.forEach { flightStatus -> ... }` ë£¨í”„ ì‹¤í–‰
    - ê° `flightStatus`ì˜ `departureCity`, `arrivalCity` ì´ë¦„ìœ¼ë¡œ `CityList`ì—ì„œ ì¢Œí‘œ ì¡°íšŒ
    - `latLngToOffset`ìœ¼ë¡œ í”½ì…€ ì¢Œí‘œ ê³„ì‚°
    - (ì„ íƒ) ë‹¤ë¥¸ ì‚¬ìš©ì í•­ë¡œ(ì ì„ )ë¥¼ ì—°í•œ ìƒ‰ìœ¼ë¡œ ê·¸ë¦¬ê¸°
    - `flightStatus.flightProgress`ë¡œ `lerp`ë¥¼ ì‚¬ìš©í•´ í˜„ì¬ ìœ„ì¹˜ ê³„ì‚°
    - `drawCircle(...)`ì„ ì‚¬ìš©í•´ í•´ë‹¹ ìœ„ì¹˜ì— **'ì '** ê·¸ë¦¬ê¸°
- [ ] **ì‹œì ë³„ ë Œë”ë§:**
    - `[FULL ëª¨ë“œ ì‹œ]`: ëª¨ë“  ì (dot)ì„ ê·¸ë¦¬ê¸°
    - `[MY_LOCATION ëª¨ë“œ ì‹œ]`: (ì„±ëŠ¥ ìµœì í™”) ë‚´ ìœ„ì¹˜ ì£¼ë³€ì˜ ì (dot)ë§Œ ê·¸ë¦¬ê±°ë‚˜, `graphicsLayer`ì˜ `scale`ë¡œ ì¸í•´ ìì—°ìŠ¤ëŸ½ê²Œ ì•ˆ ë³´ì´ë„ë¡ ì²˜ë¦¬
