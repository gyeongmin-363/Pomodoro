# 🚌🚆 픽뽀 T - 당신의 집중 여정을 함께하는 버스/기차 뽀모도로 앱

## 🎯 한 문장 요약
**“단순한 배경 위 바퀴 애니메이션과 친구들의 운행 상태를 보며 함께 집중하는 버스/기차 테마의 뽀모도로 앱”**

---

## 1️⃣ 핵심 컨셉
- **목표:** 친구들과 함께 집중하고 있다는 연결감을 제공하며, 단순하고 직관적인 방식으로 뽀모도로를 실천하도록 돕습니다.
- **테마:** 버스 또는 기차 (KTX 스타일의 깔끔한 디자인)
- **경험:**
    - **집중 세션 = 운행:** 집중 시작 ("운행 시작") → 집중 중 (바퀴 굴러감) → 세션 완료 ("목적지 도착") / 휴식
    - **시각화:** 메인 화면에 버스/기차 바퀴가 굴러가는 GIF 애니메이션 표시
    - **재미 요소:** 타이머 시작 시 티켓을 뜯는 듯한 애니메이션 효과 추가

---

## 2️⃣ 시각화 방식 변경
- **배경:** 복잡한 지도 대신 단색 또는 심플한 배경 사용
- **애니메이션:**
    - **바퀴 굴러감:** 집중 세션이 진행되는 동안 화면의 고정된 위치에서 바퀴 GIF 재생
    - **티켓 뜯기:** 집중 시작 버튼 클릭 시 티켓 뜯는 애니메이션 재생

---

## 3️⃣ 소셜 기능: 친구 시스템
- **기존:** (삭제 예정) 스터디룸
- **변경:**
    - **친구 기능:** 사용자 간 친구 추가/수락/거절 기능
    - **친구 상태 공유:** 친구 목록에서 각 친구의 현재 상태 (운행 중, 휴식 중, 오프라인 등) 실시간 확인 (추후 남은 시간 등 상세 정보 추가 가능)

---

## 4️⃣ 디자인 및 색감
- **스타일:** KTX와 같은 현대적이고 깔끔한 대중교통 디자인 모티브
- **요소:** 앱 아이콘, 버튼, 배경 등에 버스/기차/티켓 관련 그래픽 활용
- **색상:** 파란색, 흰색, 회색 등 관련 교통수단의 색감 적용

---

## 5️⃣ 백엔드 (Supabase)
- **테이블 구조 단순화:**
    - `users`: 기존 사용자 정보 (ID, 닉네임, 코인 등)
    - `friends`: 친구 관계 정보 (user\_id1, user\_id2, status)
    - `user_status`: 사용자 실시간 상태 정보 (user\_id, status, updated\_at 등)
- **실시간:** Supabase Realtime 기능을 활용하여 친구 상태 업데이트

---
---

## 🛠️ 개발 체크리스트

### 🗑️ 제거할 부분

* [ ] **사이클 인디케이터:** 관련 코드 및 UI 요소 제거
* [ ] **잔디 배경 설정:** 관련 설정 옵션, ViewModel 상태 및 함수, 저장 로직 제거
* [ ] **스터디룸 관련 기능:** 관련 딥링크 설정, 웹 파일, (존재 시) 관련 코드 및 Supabase 테이블/로직 제거
* [ ] **기존 테마 리소스:** 고양이/픽셀아트/비행기 관련 아이콘, 이미지, 런처 아이콘 등 제거

### ✏️ 수정할 부분

* **UI 및 테마:**
    * [ ] **메인 화면:** 레이아웃 단순화, 바퀴 GIF 애니메이션 표시 추가, KTX 스타일 적용
    * [ ] **전체 화면:** 앱 테마 색상 변경, 새 테마 아이콘 적용, 모든 화면 디자인 수정
    * [ ] **문자열:** 앱 이름 및 UI 텍스트를 새 컨셉에 맞게 수정
* **ViewModel:**
    * [ ] `TimerViewModel`: 타이머 상태 변경 시 Supabase 사용자 상태 업데이트 연동
    * [ ] `SettingsViewModel`: 불필요한 설정 옵션 제거
* **데이터 모델 및 백엔드:**
    * [ ] `Models.kt`: (필요시) `User` 모델 수정, 스터디룸 모델 제거
    * [ ] `SupabaseRepository.kt`: 친구 관련 함수, 사용자 상태 관련 함수 수정/추가
* **서비스:**
    * [ ] `TimerService.kt`: 타이머 상태 변경 시 Supabase 사용자 상태 업데이트 연동, 코인 로직 검토

### ✨ 추가할 부분

* **UI:**
    * [ ] **친구 화면:** (`FriendsScreen.kt` 신규 생성) 친구 목록, 상태 표시, 친구 관리 UI 구현
    * [ ] **애니메이션 리소스:** 바퀴 GIF, 티켓 GIF/Lottie 파일 추가
* **ViewModel:**
    * [ ] **`FriendViewModel.kt` (`FriendUiState.kt`):** (신규 생성) 친구 관련 로직 구현
* **데이터 모델:**
    * [ ] `Models.kt`: **`Friend`**, **`UserStatus`** 데이터 클래스 추가
* **네비게이션:**
    * [ ] `PomodoroApp.kt`: 친구 화면 라우트 추가
    * [ ] `MainScreen.kt`: 친구 화면 이동 메뉴 추가
* **Supabase:**
    * [ ] **`friends` 테이블** 신규 생성 (RLS 설정 포함)
    * [ ] **`user_status` 테이블** 신규 생성 (RLS 및 Realtime 설정 포함)
